<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="ape.marketingdepartment.controller.SettingsController"
      spacing="15" prefWidth="600" prefHeight="550">
    <padding>
        <Insets bottom="15" left="15" right="15" top="15"/>
    </padding>

    <TabPane VBox.vgrow="ALWAYS">
        <Tab text="API Keys" closable="false">
            <VBox spacing="10">
                <padding>
                    <Insets bottom="10" left="10" right="10" top="10"/>
                </padding>

                <Label text="Configure API keys for AI and publishing services:" style="-fx-font-size: 12px;"/>

                <ListView fx:id="apiKeysList" prefHeight="100"/>

                <HBox spacing="10">
                    <Button text="Add Key" onAction="#onAddApiKey"/>
                    <Button text="Edit" onAction="#onEditApiKey"/>
                    <Button text="Remove" onAction="#onRemoveApiKey"/>
                </HBox>

                <Separator/>

                <Label text="Grok Model Selection:" style="-fx-font-size: 12px; -fx-font-weight: bold;"/>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Model:" prefWidth="60"/>
                    <ComboBox fx:id="grokModelCombo" HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                    <Button text="Refresh" onAction="#onRefreshModels" fx:id="refreshModelsButton"/>
                </HBox>

                <Label fx:id="modelDescriptionLabel" text="" wrapText="true"
                       style="-fx-font-size: 11px; -fx-text-fill: #444; -fx-padding: 5 0 0 65;"/>

                <Label fx:id="modelStatusLabel" text=""
                       style="-fx-font-size: 11px; -fx-text-fill: #666;"/>

                <Separator/>

                <VBox spacing="3">
                    <Label text="API Key Sources:" style="-fx-font-size: 11px; -fx-font-weight: bold;"/>
                    <Label text="Grok (AI): https://console.x.ai" style="-fx-font-size: 11px; -fx-text-fill: #666;"/>
                    <Label text="GetLate (Social): https://getlate.dev" style="-fx-font-size: 11px; -fx-text-fill: #666;"/>
                </VBox>
            </VBox>
        </Tab>

        <Tab text="GetLate Accounts" closable="false">
            <VBox spacing="10">
                <padding>
                    <Insets bottom="10" left="10" right="10" top="10"/>
                </padding>

                <Label text="Connected social accounts from GetLate:" style="-fx-font-size: 12px;"/>

                <ListView fx:id="getLateAccountsList" prefHeight="120"/>

                <HBox spacing="10">
                    <Button text="Refresh Accounts" onAction="#onRefreshAccounts" fx:id="refreshAccountsButton"/>
                    <Button text="Create Profile from Selected" onAction="#onCreateProfileFromAccount"/>
                </HBox>

                <Label fx:id="accountsStatusLabel" text="" wrapText="true"
                       style="-fx-font-size: 11px; -fx-text-fill: #666;"/>

                <Separator/>

                <Label text="Publishing Profiles:" style="-fx-font-size: 12px; -fx-font-weight: bold;"/>

                <ListView fx:id="profilesList" prefHeight="120" VBox.vgrow="ALWAYS"/>

                <HBox spacing="10">
                    <Button text="Add Profile" onAction="#onAddProfile"/>
                    <Button text="Edit" onAction="#onEditProfile"/>
                    <Button text="Remove" onAction="#onRemoveProfile"/>
                </HBox>

                <Label text="* Profiles are used in pipelines for social publishing. Each profile links to a GetLate account."
                       style="-fx-font-size: 11px; -fx-text-fill: #666;" wrapText="true"/>
            </VBox>
        </Tab>
    </TabPane>

    <Separator/>

    <HBox spacing="10" alignment="CENTER_RIGHT">
        <Button text="Cancel" onAction="#onCancel" prefWidth="80"/>
        <Button text="Save" onAction="#onSave" prefWidth="80" style="-fx-font-weight: bold;"/>
    </HBox>
</VBox>
